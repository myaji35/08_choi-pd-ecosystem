name: Manual Secrets Setup Helper

on:
  workflow_dispatch:
    inputs:
      vercel_token:
        description: 'Vercel Token (from https://vercel.com/account/tokens)'
        required: true
        type: string

jobs:
  setup-secrets:
    runs-on: ubuntu-latest
    steps:
      - name: Verify and Display Configuration
        run: |
          echo "üîß Setting up Vercel Secrets..."
          echo "Organization ID: myaji35-4938"
          echo "Project ID: prj_ERxaoDXSS84hs3BRj2ZrSeT5tyYi"

      - name: Test Vercel Connection
        env:
          VERCEL_TOKEN: ${{ github.event.inputs.vercel_token }}
          VERCEL_ORG_ID: myaji35-4938
          VERCEL_PROJECT_ID: prj_ERxaoDXSS84hs3BRj2ZrSeT5tyYi
        run: |
          # Vercel CLI ÏÑ§Ïπò
          npm install -g vercel@latest

          # Token Ïú†Ìö®ÏÑ± Í≤ÄÏ¶ù
          vercel whoami --token="${VERCEL_TOKEN}" || {
            echo "‚ùå Invalid Vercel Token"
            exit 1
          }

          echo "‚úÖ Vercel Token is valid!"
          echo "::notice::Vercel connection successful! Now add these secrets manually to your repository settings."